{% extends "layout.html" %}

{% block insidehead %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
{% endblock %}



{% block body %}
<div class="main">

  <nav id="sidebar">
    <div class="sidebar-logo-area">
        <img class="logo-div" src="branding/logo.jpg">
        <button id="menuButtonClose" type="button" class="sidebar-close-btn init-hidden close" aria-label="Close">x</button>
    </div>
    <ul class="list-unstyled components">
      <li><a class="nav-link" href="home"><i class="fa fa-fw fa-home"></i> {{_('Home')}}</a></li>
      <li class="active"><a class="nav-link" href="setup"><i class="fa fa-fw fa-keyboard-o"></i> {{_('Setup')}}</a></li>
      <li><a class="nav-link" href="profile"><i class="fa fa-fw fa-pencil"></i> {{_('Update')}}</a></li>
      <li><a class="nav-link" href="about"><i class="fa fa-fw fa-info"></i> {{_('About')}}</a></li>
      <li><a class="nav-link" href="announcs"><i class="fa fa-fw fa-bullhorn"></i> {{_('Announcements')}}</a></li>
      <li><a class="nav-link" href="docs"><i class="fa fa-fw fa-book"></i> {{_('Documents')}}</a></li>
      <li><a class="nav-link" href="upload" aria-selected="false"><i class="fa fa-fw fa-cog"></i> {{_('Maintenance')}}</a></li>
      <li><a class="nav-link" href="pics"><i class="fa fa-fw fa-picture-o"></i> {{_('Pictures')}}</a></li>
      <li><a class="nav-link" href="listings"><i class="fa fa-fw fa-list-ul"></i> {{_('Listings')}}</a></li>
      <li><a class="nav-link" href="logout" aria-selected="false"><i class="fa fa-fw fa-sign-out"></i> {{_('Logout')}}</a></li>
      <li class="menu-userid">[{{current_user.userid}}]</li>
    </ul>
  </nav>

  <div class="content">
    {% include "mobile-menu.html" %}

    <div class="section-title" data-aos="zoom-out">
      <h2>{{_('Create an Apartment/Unit and Its Current Occupant')}}</h2>
    </div>

    <div class="spacer"></div>

    <div class="center">({{_('Only a user registered as Admin will see this Setup section')}})</div>
    <button class="button larger-button center" data-toggle="collapse" data-target="#units_section" aria-expanded="false" aria-controls="collapseExample">
      <i class="fa fa-user"></i>&nbsp;&nbsp;{{_('Open/Close the List of Units/Users Already in the System')}}
    </button>

    <div class="spacer"></div>
    <div class="spacer"></div>


    <div class="app-container collapse" id="units_section">
        <div class="profile-block">
          <fieldset>
              <legend>Admins</legend>
              <table class="table table-sm" id="adm_table_id">
                <tr>
                  <th style="width: 3%;"></th>
                  <th style="width: 3%;">Seq</th>
                  <th style="width: 6%;">{{_('User Id')}}</th>
                  <th style="width: 8%;">{{_('Password')}}</th>
                  <th style="width: 6%;">{{_('Type')}}</th>
                  <th style="width: 15%;">{{_("Resident's Name")}}</th>
                  <th style="width: 15%;">{{_("Resident's Email")}}</th>
                  <th style="width: 8%;">{{_("Resident's Phone")}}</th>
                  <th style="width: 13%;">{{_("Owner's Name")}}</th>
                  <th style="width: 13%;">{{_("Owner's Email")}}</th>
                  <th style="width: 8%;">{{_("Owner's Phone")}}</th>
                  <th style="width: 8%;">{{_('Start Date')}}</th>
                </tr>
              </table>
          </fieldset>

          <div class="spacer"></div>

          <fieldset>
              <legend>{{_('Residents')}}</legend>
              <table class="table table-sm" id="residents_table_id">
                <tr>
                  <th style="width: 3%;"></th>
                  <th style="width: 3%;">Seq</th>
                  <th style="width: 6%;">{{_('User Id')}}</th>
                  <th style="width: 8%;">{{_('Password')}}</th>
                  <th style="width: 6%;">{{_('Type')}}</th>
                  <th style="width: 15%;">{{_("Resident's Name")}}</th>
                  <th style="width: 15%;">{{_("Resident's Email")}}</th>
                  <th style="width: 8%;">{{_("Resident's Phone")}}</th>
                  <th style="width: 13%;">{{_("Owner's Name")}}</th>
                  <th style="width: 13%;">{{_("Owner's Email")}}</th>
                  <th style="width: 8%;">{{_("Owner's Phone")}}</th>
                  <th style="width: 8%;">{{_('Start Date')}}</th>
                </tr>
              </table>
          </fieldset>

          <div class="spacer"></div>

          <fieldset>
              <legend>{{_("Generate List of Residents")}}</legend>
              <div class="center">
                <button class="btn-primary" id="gen-residents-pdf-button" onclick="gen_residents_pdf()">{{_("Generate Census Forms PDF")}}</button>
                <button class="btn-primary" id="get-residents-pdf-button">
                  <a style="font-size 16px; color: white;" href="docs/other/census_form.pdf" target="_blank">{{_("Download Census Forms PDF")}}</a>
                </button>
                <div>{{_("Census Forms PDF Last Generated")}}: {{info_data['census_forms_pdf_date']}}</div>
              </div>
          </fieldset>

          <div class="spacer"></div>

        </div>
    </div> <!-- close app-container -->


    <div class="spacer"></div>
    <div class="spacer"></div>

    <div class="profile-block">
      <fieldset>
        <div class="row align-items-center">
        <div class="col-4">
          <div class="spacer"></div>
          <label class="right-aligned" for="user_id_adm">{{_('Unit / User Id')}}:</label>
          <input class="userid-input" type="text" id="user_id_adm" name="user_id_adm">
          <br>
          <label class="right-aligned">{{_('Initial Password')}}:</label>
          <input type="text" id="password" name="password">
          <br>
          <label class="right-aligned" for="resident_type">{{_('Resident type')}}:</label>
          <select id="resident_type" name="resident_type">
            <option value="0">Admin</option>
            <option value="1">{{_('Board Member')}}</option>
            <option value="2">{{_('Secretary')}}</option>
            <option value="3" selected>{{_('Resident')}}</option>
          </select>
        </div>
        <div class="col-8">
          {{_("The unit is the same as the user id, which the resident will enter in the Login page.")}}
          <br>
          {{_("You may name your units the way you think is best.")}}
          <br>
          {{_("For example, if your condominium has multiple towers, such as tower A, B and C, you may adopt the following naming convention")}}:
          <br>
          {{_("For units in the first floor of tower A: UnitA11, UnitA12, UnitA13, etc.")}}
          <br>
          {{_("For units in the third floor of tower B: UnitB31, UnitB32, UnitB33, etc.")}}
        </div>
        </div>
      </fieldset>

      <div class="spacer"></div>
      <div class="spacer"></div>
      <div class="spacer"></div>

      <div>
        <div style="margin-left: 10px; margin-bottom: 10px; font-size: 13px;">{{_('The sections below marked with * are required to be filled.')}}</div>
        <fieldset>
          <legend>{{_('Main Occupant Contact')}} (*)</legend>
          <div class="header">{{_("Must contain the info for one person only, which is the head of household (usually the unit owner if this isn't a rental unit)")}}</div>
          <label for="name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="name" name="name">
          <label for="email">Email:</label>
          <input class="email-input" type="email" id="email" name="email">
          <label for="phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" title="Phone format (123) 456-7890" type="phone" id="phone" name="phone">
          <label for="startdt_month">{{_('Resident Since')}}:</label>
          <select id="startdt_month" name="months">
            <option value="1">Jan</option>
            <option value="2">Feb</option>
            <option value="3">Mar</option>
            <option value="4">Apr</option>
            <option value="5">May</option>
            <option value="6">Jun</option>
            <option value="7">Jul</option>
            <option value="8">Aug</option>
            <option value="9">Sep</option>
            <option value="10">Oct</option>
            <option value="11">Nov</option>
            <option value="12">Dec</option>
          </select>
          <select id="startdt_year" name="years">
            <option value="1991">1991</option>
            <option value="1992">1992</option>
            <option value="1993">1993</option>
            <option value="1994">1994</option>
            <option value="1995">1995</option>
            <option value="1996">1996</option>
            <option value="1997">1997</option>
            <option value="1998">1998</option>
            <option value="1999">1999</option>
            <option value="2000">2000</option>
            <option value="2001">2001</option>
            <option value="2002">2002</option>
            <option value="2003">2003</option>
            <option value="2004">2004</option>
            <option value="2005">2005</option>
            <option value="2006">2006</option>
            <option value="2007">2007</option>
            <option value="2008">2008</option>
            <option value="2009">2009</option>
            <option value="2010">2010</option>
            <option value="2011">2011</option>
            <option value="2012">2012</option>
            <option value="2013">2013</option>
            <option value="2014">2014</option>
            <option value="2015">2015</option>
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025">2025</option>
            <option value="2026">2026</option>
            <option value="2027">2027</option>
            <option value="2028">2028</option>
            <option value="2029">2029</option>
            <option value="2030">2030</option>
          </select>
        </fieldset>

        <br>

        <fieldset>
          <legend>{{_('Other Occupants')}}</legend>
          <label for="occup1_name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="occup1_name" class="name-input" name="occup1_name">
          <label for="occup1_email">Email:</label>
          <input class="email-input" type="email" id="occup1_email" name="occup1_email">
          <label for="occup1_cc">CC:</label>
          <input type="checkbox" id="occup1_cc" name="occup1_cc" title='{{_("CC in emails sent from the condominium")}}'>
          <label for="occup1_phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="occup1_phone" name="occup1_phone">
          <label for="occup1_has_key">{{_('Has key to unit')}}:</label>
          <input type="checkbox" id="occup1_has_key" name="occup1_has_key">

          <br>
          <label for="occup2_name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="occup2_name" name="occup2_name">
          <label for="occup2_email">Email:</label>
          <input class="email-input" type="email" id="occup2_email" name="occup2_email">
          <label for="occup2_cc">CC:</label>
          <input type="checkbox" id="occup2_cc" name="occup2_cc" title='{{_("CC in emails sent from the condominium")}}'>
          <label for="occup2_phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="occup2_phone" name="occup2_phone">
          <label for="occup2_has_key">{{_('Has key to unit')}}:</label>
          <input type="checkbox" id="occup2_has_key" name="occup2_has_key">

          <br>
          <label for="occup3_name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="occup3_name" name="occup3_name">
          <label for="occup3_email">Email:</label>
          <input class="email-input" type="email" id="occup3_email" name="occup3_email">
          <label for="occup3_cc">CC:</label>
          <input type="checkbox" id="occup3_cc" name="occup3_cc" title='{{_("CC in emails sent from the condominium")}}'>
          <label for="occup3_phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="occup3_phone" name="occup3_phone">
          <label for="occup3_has_key">{{_('Has key to unit')}}:</label>
          <input type="checkbox" id="occup3_has_key" name="occup3_has_key">

          <br>
          <label for="occup4_name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="occup4_name" name="occup4_name">
          <label for="occup4_email">Email:</label>
          <input class="email-input" type="email" id="occup4_email" name="occup4_email">
          <label for="occup4_cc">CC:</label>
          <input type="checkbox" id="occup4_cc" name="occup4_cc" title='{{_("CC in emails sent from the condominium")}}'>
          <label for="occup4_phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="occup4_phone" name="occup4_phone">
          <label for="occup4_has_key">{{_('Has key to unit')}}:</label>
          <input type="checkbox" id="occup4_has_key" name="occup4_has_key">

          <br>
          <label for="occup5_name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="occup5_name" name="occup5_name">
          <label for="occup5_email">Email:</label>
          <input class="email-input" type="email" id="occup5_email" name="occup5_email">
          <label for="occup5_cc">CC:</label>
          <input type="checkbox" id="occup5_cc" name="occup5_cc" title='{{_("CC in emails sent from the condominium")}}'>
          <label for="occup5_phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="occup5_phone" name="occup5_phone">
          <label for="occup5_has_key">{{_('Has key to unit')}}:</label>
          <input type="checkbox" id="occup5_has_key" name="occup5_has_key">
        </fieldset>
        <br>
        <fieldset>
          <legend>{{_('Emergency Contact')}}</legend>
          <div class="header">{{_("If possible, this should be someone who lives outside the complex, or in a building other than this unit's.")}}</div>
          <label for="emerg_name">{{_('Name')}}:</label>
          <input class="name-input" type="text" id="emerg_name" name="emerg_name">
          <label for="emerg_email">Email:</label>
          <input class="email-input" type="email" id="emerg_email" name="emerg_email">
          <label for="emerg_phone">{{_('Phone')}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="emerg_phone" name="emerg_phone">
          <label for="emerg_has_key">{{_('Has key to unit')}}:</label>
          <input type="checkbox" id="emerg_has_key" name="emerg_has_key">
        </fieldset>
        <br>
        <fieldset>
          <legend>{{_('For Rental Unit Only')}}</legend>
          <div class="header">{{_('If this unit is a rental, you might want to fill this section')}}</div>
          <input type="checkbox" onclick="handleRentalClick(this);" id="rental_unit_checkbox" name="rental_unit_checkbox" unchecked>
          <label for="rental_unit_checkbox">{{_('This unit is a rental')}}</label>
          <br>
          <label for="owner_name" disabled>{{_("Owner's Name")}}:</label>
          <input class="name-input" type="text" id="owner_name" name="owner_name" disabled>
          <label for="owner_email" disabled>{{_("Owner's Email")}}:</label>
          <input class="email-input" type="email" id="owner_email" name="owner_email" disabled>
          <label for="owner_phone" disabled>{{_("Owner's Phone")}}:</label>
          <input class="phone-input" data-toggle="tooltip" title="Phone format (123) 456-7890" type="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="owner_phone" name="owner_phone" disabled>
          <br>
          <label for="owner_address" disabled>{{_("Owner's Full Mailing Address")}}:</label>
          <input type="text" size=50 id="owner_address" name="owner_address" title="Full address of the owner" disabled>
        </fieldset>
        <br>
        <fieldset>
            <legend>{{_('Additional Info')}}</legend>
            <input type="checkbox" id="oxygen_equipment" name="oxygen_equipment">
            <label for="oxygen_equipment">{{_('Use oxygen equipment')}}</label>
            <br>
            <input type="checkbox" id="limited_mobility" name="limited_mobility">
            <label for="limited_mobility">{{_('Have limited mobility')}}</label>
            <br>
            <input type="checkbox" id="routine_visits" name="routine_visits">
            <label for="routine_visits">{{_('Medical or assistance service visits the unit on a routine basis')}}</label>
            <br>
            <input type="checkbox" id="has_pet" name="has_pet">
            <label for="has_pet">{{_('Have pets')}}</label>
            <br>
            <label for="bike_count">{{_('Number of bicycles in the garage')}}:</label>
            <input type="number" style="width: 40px;" id="bike_count" name="bike_count" value="0">
            <br>
            <label for="insurance_carrier">{{_('Home insurance policy carrier')}}:</label>
            <input type="text" id="insurance_carrier" name="insurance_carrier">
            <br>
            <label for="valve">{{_("Unit's main water shut off valve type")}}: &nbsp; &nbsp; &nbsp; {{_('Knob')}}</label>
            <input type="radio" id="knob_radio" name="valve" value="knob">
            <img src="{{ url_for('static', filename='common/img/knob-valve.png') }}" width="50" height="50">
            <label for="valve">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{_('Lever')}}</label>
            <input type="radio" id="lever_radio" name="valve" value="lever">
            <img src="{{ url_for('static', filename='common/img/lever-valve.png') }}" width="50" height="50">
            <label for="valve">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{_("I don't know")}}</label>
            <input type="radio" id="dont_know_radio" name="valve" value="dontknow" checked>
        </fieldset>

        <br>

        <fieldset>
          <legend>{{_('Vehicle Information')}} (*)</legend>
          <input type="checkbox" onclick="handleNoVehiclesClick(this);" id="vehicle_checkbox" name="vehicle_checkbox">
          <label for="vehicle_checkbox">{{_('Unit occupants have no cars')}}</label>
          <br>
          <label for="make_model_0">{{_('Vehicle 1: Make and Model')}}:</label>
          <input type="text" id="make_model_0" name="make_model_0" title="Example: Honda CR-V">
          <label for="plate_0">{{_('Plate')}}:</label>
          <input class="plate-input" type="text" id="plate_0" name="plate_0" title="Plate, with state in parenthesis">
          <label for="color_0">{{_('Color')}}:</label>
          <input class="color-input" type="text" id="color_0" name="color_0">
          <label for="year_0">{{_('Year')}}:</label>
          <input type="number" style="width: 70px;" id="year_0" name="year_0">
          <br>
          <label for="make_model_1">{{_('Vehicle 2: Make and Model')}}:</label>
          <input type="text" id="make_model_1" name="make_model_1" title="Example: Honda CR-V">
          <label for="plate_1">{{_('Plate')}}:</label>
          <input class="plate-input" type="text" id="plate_1" name="plate_1" title="Plate, with state in parenthesis">
          <label for="color_1">{{_('Color')}}:</label>
          <input class="color-input" type="text" id="color_1" name="color_1">
          <label for="year_1">{{_('Year')}}:</label>
          <input type="number" style="width: 70px;" id="year_1" name="year_1">
        </fieldset>

        <br>

        <fieldset>
          <legend>{{_('Notes')}}</legend>
          <div class="header">{{_('Write below any note or extra information you feel is important')}}.</div>
          <div>
            <textarea style="width: 100%; overflow-y: scroll; resize: none;" rows="3" id="notes" name="notes"></textarea>
          </div>
        </fieldset>
      </div>

      <div class="spacer"></div>

      <div class="center">
        <!-- <button class="button-div wide" id="save_resident_btn" onClick="setupSaveResident('setup');">Add This Unit to the System</button> -->
        <button class="button larger-button" id="save_resident_btn" onClick="saveResident('setup');"><i class="fa fa-database"></i>&nbsp;&nbsp;{{_('Add This Unit to Database')}}</button>
      </div>
    </div> <!-- closes profile-block -->

    <div class="spacer"></div>
    <div class="spacer"></div>

<!--    <div class="profile-block">-->
<!--        <fieldset>-->
<!--          <legend>{{_('Use This Section Exclusively for Deletion of Unit')}}</legend>-->

<!--          <label for="user_id_delete">{{_('Unit / User Id')}}:</label>-->
<!--          <select class="unit-dropdown" id="user_id_delete" name="user_id_delete" onChange="retrieveUser();">-->
<!--            <option value="none" selected disabled hidden>{{_('Select unit')}}</option>-->
<!--            {% for unit in units %}-->
<!--                {% if not unit['userid'].startswith('admin') %}-->
<!--                    <option value="{{unit['userid']}}">{{unit['userid']}}</option>-->
<!--                {% endif %}-->
<!--            {% endfor %}-->
<!--          </select>-->

<!--          <label for="name_delete">{{_('Name')}}:</label>-->
<!--          <input class="name_input" id="name_delete" name="name_delete" readonly>-->
<!--          <label for="email_delete">Email:</label>-->
<!--          <input class="email_input" id="email_delete" name="email_delete" readonly>-->
<!--          <label for="phone_delete">{{_('Phone')}}:</label>-->
<!--          <input class="phone_input" id="phone_delete" name="phone_delete" readonly>-->

<!--          <div class="spacer"></div>-->

<!--          <div class="center">-->
<!--              <button class="button larger-button" id="delete_resident_btn" onClick="deleteUser();"><i class="fa fa-remove"></i>&nbsp;&nbsp;{{_('Delete Unit from Database')}}</button>-->
<!--          </div>-->
<!--        </fieldset>-->
<!--    </div>-->

  </div> <!-- closes content -->
</div> <!-- closes main -->

<input type="hidden" id="loggedin-id" value={{info_data['loggedin-userdata']['id']}}>
<input type="hidden" id="loggedin-userid" value={{info_data['loggedin-userdata']['userid']}}>
<input type="hidden" id="loggedin-unit" value={{info_data['loggedin-userdata']['unit']}}>
<input type="hidden" id="loggedin-name" value={{info_data['loggedin-userdata']['name']}}>
<input type="hidden" id="loggedin-tenant" value={{info_data['loggedin-userdata']['tenant']}}>
{% endblock %}


{% block afterbody %}
   <script src="{{ url_for('static', filename='js/setup.js') }}"></script>
{% endblock %}

